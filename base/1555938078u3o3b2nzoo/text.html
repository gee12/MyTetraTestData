<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">ToggleButton (Кнопка-переключатель)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><a href="http://developer.alexanderklimov.ru/android/views/togglebutton.php#common"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; text-decoration: underline; color:#40c4ff; background-color:transparent;">Общая информация</span></a><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"><br /></span><a href="http://developer.alexanderklimov.ru/android/views/togglebutton.php#customstyle"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; text-decoration: underline; color:#40c4ff; background-color:transparent;">Стилизация</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><a name="common"></a><span style=" font-family:'Liberation Serif,serif'; font-size:33pt; font-weight:600; color:#8a6d3b;">О</span><span style=" font-family:'Liberation Serif,serif'; font-size:33pt; font-weight:600; color:#8a6d3b;">бщая информация</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Компонент </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">ToggleButton</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> по своей функциональности похож на флажок (checkbox) или переключатель (radiobutton) - это кнопка, которая может находиться в одном из двух состояний: активна (On) или неактивна (Off). По умолчанию на кнопке написано &quot;Оn&quot;, если она активна, и &quot;Off&quot; - если нет. По внешнему виду это обычная кнопка с декоративной полоской в нижней части, которая подсвечивается в включенном состоянии (имитация LED-индикатора).</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Находится в разделе </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Widgets</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Если надписи </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">On/Off</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> для вашей программы не подходят, их можно изменить при помощи свойств </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Text on</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> (атрибут </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">android:textOn</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">) и </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Text off</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> (атрибут </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">android:textOff</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">). Поскольку надписи </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Оn</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> и </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Off</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> на кнопке-переключателе являются отдельными атрибутами, атрибут </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">android: text</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> не используется, он доступен, так как наследуется от </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">ТextView</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">, но в данном случае без него можно обойтись. В программном коде им соответствуют методы </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">setTextOff()</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> и </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">setTextOn()</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">По умолчанию, </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">ToggleButton</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> находится в выключенном состоянии, чтобы его &quot;включить&quot;, установите свойство </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">checked</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> в значение </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">true</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">. Свойству соответствует метод </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">setChecked(boolean checked)</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Основное событие </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">ToggleButton</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> — изменение состояния кнопки </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">onCheckedChanged()</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Напишем демонстрационную программу с использованием </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">ToggleButton</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">. Добавим на форму метку, изображение и кнопку-переключатель:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    android:layout_width=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    android:layout_height=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    android:orientation=&quot;vertical&quot; &gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;TextView</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:id=&quot;@+id/tvInfo&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_width=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_height=&quot;wrap_content&quot;/&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;ToggleButton</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:id=&quot;@+id/toggleButton&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_width=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_height=&quot;wrap_content&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:checked=&quot;false&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:text=&quot;ToggleButton&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:textOff=&quot;Не гладить&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:textOn=&quot;Гладить&quot; /&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;ImageView</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:id=&quot;@+id/imageView&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_width=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:layout_height=&quot;match_parent&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        android:src=&quot;@drawable/gladcat&quot; /&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;/LinearLayout&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Для создания обработчика события изменения состояния кнопки необходима реализация интерфейса </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">CompoundButton.OnCheckedChangeListener</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">. Интерфейс имеет единственный метод </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">onCheckedChanged()</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">, который необходимо переопределить в нашем классе. При обработке события для определения состояния используется параметр </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">isChecked</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">package ru.alexanderklimov.togglebuttondemo;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.app.Activity;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.os.Bundle;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.widget.CompoundButton;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.widget.CompoundButton.OnCheckedChangeListener;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.widget.TextView;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">import android.widget.ToggleButton;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">public class ToggleButtonDemoActivity extends Activity implements</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                OnCheckedChangeListener {</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        ToggleButton toogleButton;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        TextView tvInfo;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        @Override</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        public void onCreate(Bundle savedInstanceState) {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                super.onCreate(savedInstanceState);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                setContentView(R.layout.main);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                toogleButton = (ToggleButton) findViewById(R.id.toggleButton);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                tvInfo = (TextView) findViewById(R.id.tvInfo);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                toogleButton.setOnCheckedChangeListener(this);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        }</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:#f5f5f5;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        @Override</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                if (isChecked)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                        tvInfo.setText(&quot;Состояние: Включён&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                else</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">                        tvInfo.setText(&quot;Состояние: Выключен&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">        }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">}</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><img src="image1555938045vvimkccc0p.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; color:#333333;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><a name="customstyle"></a><span style=" font-family:'Liberation Serif,serif'; font-size:33pt; font-weight:600; color:#8a6d3b;">С</span><span style=" font-family:'Liberation Serif,serif'; font-size:33pt; font-weight:600; color:#8a6d3b;">тилизация</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Создайте два изображения для каждого состояния кнопки-переключателя в формате 9-patch, например, btn_toggle_off.9.png и btn_toggle_on.9.png. Разместите картинки в папке </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">res/drawable-hdpi/</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> (или в других).</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Далее создаются два XML-файла в папке </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">res/drawable</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">btn_toggle_bg.xml</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> (отвечает за фон):</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item android:id=&quot;@+android:id/background&quot; android:drawable=&quot;@android:color/transparent&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item android:id=&quot;@+android:id/toggle&quot; android:drawable=&quot;@drawable/btn_toggle&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;/layer-list&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">btn_toggle.xml</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> (выводит нужное изображение в разных состояниях)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item android:state_checked=&quot;false&quot; android:drawable=&quot;@drawable/btn_toggle_off&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item android:state_checked=&quot;true&quot; android:drawable=&quot;@drawable/btn_toggle_on&quot; /&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;/selector&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Также можно определить стиль и тему для кнопки. В файле </span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; font-weight:600; color:#333333;">res/values/themes.xml</span><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;"> пропишите:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;!-- Overwrite the ToggleButton style --&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;style name=&quot;Widget.Button.Toggle&quot; parent=&quot;android:Widget&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item name=&quot;android:background&quot;&gt;@drawable/btn_toggle_bg&lt;/item&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item name=&quot;android:textOn&quot;&gt;ON&lt;/item&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item name=&quot;android:textOff&quot;&gt;OFF&lt;/item&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item name=&quot;android:disabledAlpha&quot;&gt;?android:attr/disabledAlpha&lt;/item&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;/style&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:transparent;"><span style=" font-family:'Helvetica, Arial, sans-serif'; font-size:10pt; color:#333333;">Сообщите системе, что нужно использовать новый стиль для кнопки:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">&lt;style name=&quot;YourThemeName&quot; parent=&quot;@android:Theme.Black&quot;&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;!-- Tell Android to use a custom style when creating a ToggleButton --&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;item name=&quot;android:buttonStyleToggle&quot;&gt;@style/Widget.Button.Toggle&lt;/item&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:142%; background-color:#f5f5f5;"><span style=" font-family:'Liberation Mono,monospace'; font-size:10pt; color:#333333; background-color:transparent;">    &lt;!-- Perhaps more theme items here...? --&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:120%; background-color:transparent;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"><br /><br /></span></p></body></html>